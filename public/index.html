<!doctype html>
<html lang="en-AU">
  <head prefix="og: https://ogp.me/ns#">
    <meta charset="utf-8" />
    <meta content="<%= referrer %>" name="referrer" />
    <title><%= title %></title>
    <meta content="<%= description %>" name="description" />
    <meta content="Daniel Maddison" name="author" />
    <meta
      content="width=device-width, initial-scale=1, viewport-fit=cover"
      name="viewport"
    />
    <style>
      @font-face {
        font-family: 'Host Grotesk';
        font-style: normal;
        font-weight: 300 800;
        src: url('assets/host-grotesk.woff2') format('woff2-variations');
      }

      :root {
        --color-black: rgb(0, 0, 0, 0.83);
        --color-white: rgb(229, 227, 220);
        --color-uvi-extreme: rgb(170, 112, 230);
        --color-uvi-very-high: rgb(250, 41, 76);
        --color-uvi-high: rgb(255, 140, 26);
        --color-uvi-moderate: rgb(249, 212, 26);
        --color-uvi-low: rgb(77, 204, 51);
        --color-scheme-background: var(--color-uvi-low);
        --color-scheme-foreground: var(--color-black);
        --font-family: 'Host Grotesk', system-ui, -apple-system,
          BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
          sans-serif;
        --font-feature-settings: 'case' on, 'cpsp' on, 'cv01' on, 'dlig' on,
          'ss01' on, 'ss02' on, 'ss03' on;
        --font-variant-numeric: lining-nums proportional-nums;
        --font-size-xl: 2.841406rem;
        --font-size-l: 0.984375rem;
        --font-size-m: 0.875rem;
        --font-size-s: 0.777778rem;
        --font-weight-regular: 425;
        --font-weight-medium: 575;
        --font-weight-bold: 725;
        --line-height-xl: 3rem;
        --line-height-l: 1.5rem;
        --line-height-m: 1.25rem;
        --line-height-s: 1rem;
        --motion-step: 0.05s;
        --space-xxl: 5.25rem;
        --space-xl: 3.25rem;
        --space-l: 2rem;
        --space-m: 1.25rem;
        --space-s: 0.75rem;
        --space-xs: 0.5rem;
        --space-xxs: 0.25rem;
        --stroke-size-l: 0.46875rem;
        --stroke-size-m: 0.1875rem;
        --stroke-size-s: 0.09375rem;
      }

      * {
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;

        scrollbar-width: none;
        -ms-overflow-style: none;
      }

      *::-webkit-scrollbar {
        display: none;
      }

      /* html, */
      body {
        overflow: hidden;
        margin: 0;
        background: var(--color-scheme-background);
        color: var(--color-scheme-foreground);
        font-family: var(--font-family);
        -webkit-font-feature-settings: var(--font-feature-settings);
        font-feature-settings: var(--font-feature-settings);
        -webkit-font-smoothing: antialiased;
        font-variant-numeric: var(--font-variant-numeric);
        font-weight: var(--font-weight-regular);
        -moz-osx-font-smoothing: grayscale;
        text-rendering: optimizeLegibility;
        -webkit-tap-highlight-color: transparent;
      }

      .viewport {
        overflow: auto;
        position: relative;
        top: 0;
        left: 0;
        height: 100dvh;
        width: 100dvw;
      }

      .error {
        position: absolute;
        top: 50%;
        left: 50%;
        translate: -50% -50%;
        width: calc(100% - var(--space-xl) * 2);
        max-width: 40rem;
        margin: 0 auto;
        text-align: center;
      }

      .error > :first-child {
        margin-top: 0;
      }

      .error > :last-child {
        margin-bottom: 0;
      }

      /* Needs work */
      .error__title {
        position: relative;
        margin: 0;
        font-size: var(--font-size-xl);
        font-weight: var(--font-weight-bold);
        letter-spacing: initial;
        line-height: var(--line-height-xl);
      }

      .error__title::before {
        content: ":'(";
        position: absolute;
        bottom: calc(100% + var(--space-l));
        left: 50%;
        translate: -50% 0;
        rotate: 90deg;
      }

      .error__description {
        font-size: var(--font-size-l);
        font-weight: var(--font-weight-regular);
        letter-spacing: calc(var(--font-size-l) * 0.03);
        line-height: var(--line-height-l);
      }
      /* End needs work */

      @media only screen and (min-width: 30.0625em) {
        .error {
          width: calc(100% - var(--space-xxl) * 2);
        }
      }
    </style>
    <% if (isDevelopment) { %>
    <style>
      .env {
        background: var(--color-scheme-foreground);
        color: var(--color-scheme-background);
        font-size: var(--font-size-s);
        font-weight: var(--font-weight-medium);
        letter-spacing: calc(var(--font-size-s) * 0.03);
        line-height: var(--space-l);
        text-align: center;
        white-space: nowrap;
        transition:
          background calc(var(--motion-step) * 20) linear,
          color calc(var(--motion-step) * 20) linear;
      }

      .env > :first-child {
        margin-top: 0;
      }

      .env > :last-child {
        margin-bottom: 0;
      }

      .env + .viewport {
        height: calc(100dvh - var(--space-l));
      }
    </style>
    <% } %>
    <link href="/assets/favicon.ico" rel="icon" sizes="48x48" />
    <link
      href="/assets/favicon.svg"
      rel="icon"
      sizes="any"
      type="image/svg+xml"
    />
    <link
      href="/assets/apple-touch-icon.png"
      rel="apple-touch-icon"
      sizes="180x180"
    />
    <meta content="<%= description %>" property="og:description" />
    <meta content="<%= image.src %>" property="og:image" />
    <meta content="en_AU" property="og:locale" />
    <meta content="<%= title %>" property="og:title" />
    <meta content="website" property="og:type" />
    <meta content="<%= url %>" property="og:url" />
    <meta content="summary_large_image" name="twitter:card" />
    <meta content="<%= description %>" name="twitter:description" />
    <meta content="<%= image.src %>" name="twitter:image" />
    <meta content="<%= image.alt %>" name="twitter:image:alt" />
    <meta content="<%= url %>" name="twitter:site" />
    <meta content="<%= title %>" name="twitter:title" />
    <% if (isIndexed) { %>
    <meta content="index, follow" name="robots" />
    <link href="<%= url %>" rel="canonical" />
    <% } else { %>
    <meta content="noindex, nofollow" name="robots" />
    <% } %>
  </head>
  <body>
    <% if (isDevelopment) { %>
    <div aria-hidden="true" class="env">
      <p>Development Environment v<%= version %></p>
    </div>
    <% } %>
    <div class="viewport" id="root">
      <noscript class="error">
        <h2 class="error__title">Unable to Check the&nbsp;Weather</h2>
        <p class="error__description">
          To check the weather, please enable JavaScript in your browser
          settings and try&nbsp;again.
        </p>
      </noscript>
    </div>
    <script>
      (() => {
        const defaultColorScheme = `{
          "background": "var(--color-uvi-low)",
          "foreground": "var(--color-black)"
        }`;

        const colorScheme = JSON.parse(
          window.localStorage.getItem('colorScheme') || defaultColorScheme,
        );

        document.body.style.setProperty(
          '--color-scheme-background',
          colorScheme.background,
        );
        document.body.style.setProperty(
          '--color-scheme-foreground',
          colorScheme.foreground,
        );
      })();
    </script>
  </body>
</html>
